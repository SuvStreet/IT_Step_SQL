Триггеры
===

>**Триггер** - это механизм, который вызывается, когда в указанной таблице происходит определенное действие.

Каждый триггер имеет следующие основные составляющие: имя, действие и исполнение. Имя триггера может содержать максимум 128 символов. Действием триггера может быть или инструкция `DML` (**INSERT**, **UPDATE** или **DELETE**), или инструкция `DDL`. Таким образом, существует два типа триггеров: `триггеры DML` и `триггеры DDL`. Исполнительная составляющая триггера обычно состоит из хранимой процедуры или пакета.

Создание триггера
---

Триггер создается с помощью инструкции **CREATE TRIGGER**, которая имеет следующий синтаксис:

```dml
CREATE TRIGGER trigger_name
    ON {table_name | view_name}
    {FOR | AFTER | INSTEAD OF} { [INSERT] [,] [UPDATE] [,] [DELETE]}
    {AS sql_statement | EXTERNAL NAME method_name}
```

Здесь в параметре `trigger_name` - **указывается имя триггера**. В параметре `table_name` **задается имя таблицы**, для которой создается триггер. (Также поддерживаются триггеры для представлений, на что указывает наличие параметра `view_name`.)

Также можно задать тип триггера с помощью двух дополнительных параметров: **AFTER** и **INSTEAD OF**. (Параметр `FOR` является синонимом параметра `AFTER`.) **`Триггеры типа AFTER`** вызываются после выполнения действия, запускающего триггер, а **`триггеры типа INSTEAD OF`** выполняются вместо действия, запускающего триггер. Триггеры AFTER можно создавать только для таблиц, а триггеры INSTEAD OF - как для таблиц, так и для представлений.

Параметры **INSERT**, **UPDATE** и **DELETE** задают действие триггера. Под действием триггера имеется в виду инструкция Transact-SQL, которая запускает триггер. Допускается любая комбинация этих трёх инструкций. Инструкция **DELETE не разрешается, если используется параметр IF UPDATE**.






